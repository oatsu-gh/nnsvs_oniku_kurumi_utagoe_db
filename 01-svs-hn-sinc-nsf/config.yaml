### General settings.
## The name of singer
spk: "oniku_kurumi"

## exp tag(for managing experiments)
tag: 

## Directory of Unzipped singing voice database
# PLEASE CHANGE THE PATH BASED ON YOUR ENVIRONMENT
db_root: "~/data/ONIKU_KURUMI_UTAGOE_DB"

## Output directory
# All the igenerated labels, intermediate files, and segmented wav files
# will be saved in the following directory
out_dir: "./data"

## Sampling Rate
# Sampling rate with which acoustic features are extracted.
# If you change this value, you have to change both acoustic_model_stream_sizes
# and acoustic_model_out_dim because the dimension of bap(band aperiodicity)
# is also changed.
# The relationships between typical sampling rate and dimension of bap
# are as follows:
#
# Sampling rate | Dimension of bap
# --------------+-----------------
#     16kHz     |        1
#     24kHz     |        3
#     32kHz     |        4
#     44.1kHz   |        5
#     48kHz     |        5
#     96kHz     |        5
#
# The stream of acoustic features are arranged as mgc, f0, vuv, bap.
# Mgc, f0, bap have their dynamic features so the dimensions of them are
# multiplied by 3. For detail, please see the source of NNSVS.
sample_rate: 16000
# mgc((1+59 order) x 3), f0(1x3), vuv(1 (no dynamic feature), bap(1 x 3)
acoustic_model_stream_sizes: [180,3,1,3]
# 180+3+1+3
acoustic_model_out_dim: 187

### Pyinsy related settings.
## Sinsy dictionary directory
# ONIKU_KURUMI_UTAGOE_DB contains the unvoiced vowels "I" and "U".
# To enable the unvoiced vowels, modified version of sinsy dictionary files
# are needed. 
sinsy_dic: "./dic"

## HTS-style question used for extracting musical/linguistic context from musicxml files
question_path: "./conf/jp_qst001_nnsvs.hed"

### Data preparation related settings.
## Song segmentation by silence durations.
# TODO: would be better to split songs by phrasal information in the musical scores
# Split song by silences (in sec)
segmentation_threshold: 0.4
# Min duration for a segment
# note: there could be some execptions (e.g., the last segment of a song)
segment_min_duration: 5.0
# Force split segments if long silence is found regardless of min_duration
force_split_threshold: 5.0
# Offset correction
# If True, offset is computed in an entire song
# otherwise offset is computed for each segment
global_offset_correction: False
offset_correction_threshold: 0.01
# Time-lag constraints to filter outliers
timelag_allowed_range: [-20, 19]
timelag_allowed_range_rest: [-40, 39]

### Training related settings.
## Pretrained model dir
# leave empty to disable
pretrained_expdir:
# batch size
batch_size: 8

### NSF related settings.
nsf_root_dir: downloads/project-NN-Pytorch-scripts/
nsf_save_model_dir: 
nsf_pretrained_model: nsf/trained_network_cmu_arctic_20200816.pt

